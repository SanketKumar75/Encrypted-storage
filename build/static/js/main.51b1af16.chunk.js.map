{"version":3,"sources":["assets/sign.png","axios.js","Signup.js","assets/log.jpg","Login.js","utils/imageEnc.js","Home/Upload.js","Home/Home.js","utils/imageDec.js","App.js","reportWebVitals.js","index.js"],"names":["instance","axios","create","baseURL","Signup","name","value","history","useHistory","useState","password","cpassword","privateKey","user","setUser","handleInput","e","console","log","target","downloadTxtFile","element","document","createElement","file","Blob","type","href","URL","createObjectURL","download","body","appendChild","click","handleSubmit","a","preventDefault","alert","length","encPass","crypto","createHash","update","digest","post","username","signup","data","status","msg","push","className","to","method","onSubmit","onChange","placeholder","required","id","htmlFor","src","sideimg","alt","width","height","Login","priv_key","setPriv_key","getKey","reader","FileReader","onload","text","result","files","readAsText","postData","login","window","localStorage","setItem","JSON","stringify","location","replace","accept","onClick","getBase64","Promise","resolve","readAsDataURL","encImage","imageBase64","encrypted","CryptoJS","AES","encrypt","toString","Upload","setprivateKey","setuser","image","setimage","useEffect","pk","getItem","u","parse","uploadImage","encryptImage","userId","_id","mediaData","upload","reload","multiple","Home","style","images","setimages","pageNum","setpageNum","getImages","pageNumber","numEachPage","get","assign","key","allMedia","getElementById","innerHTML","innerWidth","i","div","decrypt","enc","Utf8","Image","classList","add","br","hr","margin","error","removeItem","appendImages","imgUrl","pre","marginLeft","App","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.51b1af16.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/sign.4e39d923.png\";","import axios from \"axios\";\n\nconst instance = axios.create({\n  baseURL: \"https://encrypt-image.herokuapp.com/\",\n});\n\nexport default instance;\n","import React, { useState } from \"react\";\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport sideimg from \"./assets/sign.png\";\r\nimport axios from \"./axios\";\r\nimport crypto from \"crypto\";\r\n\r\nconst Signup = () => {\r\n  const history = useHistory();\r\n\r\n  //use state banaya he\r\n  const [user, setUser] = useState({\r\n    name: \"\",\r\n    password: \"\",\r\n    cpassword: \"\",\r\n    privateKey: \"\",\r\n  });\r\n  const [public_key, setPublic_key] = useState(\"\");\r\n\r\n  //form se utha ke assign karne ke lie\r\n  let name, value;\r\n  const handleInput = (e) => {\r\n    console.log(e);\r\n    name = e.target.name;\r\n    value = e.target.value;\r\n\r\n    setUser({ ...user, [name]: value });\r\n  };\r\n\r\n  //   //bas user yaha se bhej dena\r\n  //   const postData = async (e) => {\r\n  //   };\r\n\r\n  const downloadTxtFile = () => {\r\n    const element = document.createElement(\"a\");\r\n    const file = new Blob([user?.privateKey], {\r\n      type: \"text/plain\",\r\n    });\r\n    element.href = URL.createObjectURL(file);\r\n    element.download = \"privateKey.txt\";\r\n    document.body.appendChild(element); // Required for this to work in FireFox\r\n    element.click();\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (user?.name == \"\") {\r\n      alert(\"Name is required.\");\r\n      return;\r\n    }\r\n    if (user?.password.length < 8) {\r\n      alert(\"password length must be more than 8.\");\r\n      return;\r\n    }\r\n    if (user?.password != user?.cpassword) {\r\n      alert(\"password must be same as confirm password.\");\r\n      return;\r\n    }\r\n    if (user?.name == \"\") {\r\n      alert(\"Private key length must be more than 8.\");\r\n      return;\r\n    }\r\n    let encPass = crypto\r\n      .createHash(\"sha256\")\r\n      .update(user?.password)\r\n      .digest(\"hex\");\r\n    try {\r\n      let signup = await axios.post(\"api/signup\", {\r\n        username: user?.name,\r\n        password: encPass,\r\n      });\r\n\r\n      signup = await signup.data;\r\n\r\n      if (signup?.status == 1) {\r\n        alert(signup?.msg);\r\n        downloadTxtFile();\r\n        history.push(\"/login\");\r\n        return;\r\n      }\r\n\r\n      alert(signup?.msg);\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\" form d-flex  justify-content-center \">\r\n        <div className=\" Homepage-Container p-2 w-50 row mt-5 \">\r\n          <div className=\" mr-5 ml-5 justify-content-center col p-2 \">\r\n            <center>\r\n              <h2 className=\"text-light\"> Signup</h2>\r\n              <NavLink to=\"/login\">\r\n                {\" \"}\r\n                <p className=\"text-light smallFont mt-2\">\r\n                  Already have an account?\r\n                </p>\r\n              </NavLink>{\" \"}\r\n            </center>\r\n            <form method=\"POST\" onSubmit={handleSubmit}>\r\n              <input\r\n                className=\"text-light inputBox\"\r\n                type=\"name\"\r\n                name=\"name\"\r\n                value={user.name}\r\n                onChange={handleInput}\r\n                placeholder=\"Userame\"\r\n                required\r\n              />\r\n\r\n              <input\r\n                className=\"text-light inputBox\"\r\n                type=\"password\"\r\n                name=\"password\"\r\n                value={user.password}\r\n                onChange={handleInput}\r\n                placeholder=\"password\"\r\n                required\r\n              />\r\n\r\n              <input\r\n                className=\"text-light inputBox\"\r\n                type=\"password\"\r\n                name=\"cpassword\"\r\n                value={user.cpassword}\r\n                onChange={handleInput}\r\n                placeholder=\"Confirm Password\"\r\n                required\r\n              />\r\n\r\n              <input\r\n                className=\"text-light inputBox\"\r\n                type=\"password\"\r\n                name=\"privateKey\"\r\n                id=\"privateKeyDownload\"\r\n                value={user.privateKey}\r\n                onChange={handleInput}\r\n                placeholder=\"Private key\"\r\n                required\r\n              />\r\n              <br />\r\n\r\n              <div className=\"d-flex\">\r\n                <input type=\"checkbox\" id=\"terms\" value=\"Bike\" />\r\n                <label htmlFor=\"terms\" className=\" mx-4\">\r\n                  We do not store your private key hence on submiting this form\r\n                  you will a file privateKey.txt will downloaded, you have to\r\n                  upload that privateKey.txt file each time you login. Once you\r\n                  lose file there will not way to retrive your private key and\r\n                  your data, if you are are ready then click on checkbox and\r\n                  move further.\r\n                </label>\r\n              </div>\r\n              <br />\r\n              <button type=\"submit\" className=\"Logbutton text-light\">\r\n                Sign up\r\n              </button>\r\n            </form>\r\n          </div>\r\n\r\n          <img\r\n            className=\"mt-3 mr-2 border rounded justify-content-right col p-0  imagecss\"\r\n            src={sideimg}\r\n            alt=\"login image\"\r\n            width=\"auto\"\r\n            height=\"350\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Signup;","export default __webpack_public_path__ + \"static/media/log.a83399c2.jpg\";","import axios from \"./axios\";\r\nimport React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport sideimg from \"./assets/log.jpg\";\r\nimport crypto from \"crypto\";\r\n\r\nconst Login = () => {\r\n  const history = useHistory();\r\n\r\n  //use state banaya he\r\n  const [priv_key, setPriv_key] = useState(\"\");\r\n  const [user, setUser] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  //form se utha ke assign karne ke lie\r\n  const handleInput = (e) => {\r\n    console.log(e);\r\n    let name, value;\r\n    name = e.target.name;\r\n    value = e.target.value;\r\n\r\n    setUser({ ...user, [name]: value });\r\n  };\r\n\r\n  const getKey = async (e) => {\r\n    e.preventDefault();\r\n    const reader = new FileReader();\r\n    reader.onload = async (e) => {\r\n      const text = e.target.result;\r\n      console.log(text);\r\n      setPriv_key(text);\r\n    };\r\n    console.log(e.target.files[0]);\r\n    let file = e.target.files[0];\r\n    if (file.name != \"privateKey.txt\") {\r\n      alert(\"This file is not correct\");\r\n      return;\r\n    }\r\n    reader.readAsText(file);\r\n  };\r\n  //bas user yaha se bhej dena\r\n  const postData = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (user?.username == \"\") {\r\n      alert(\"Name is required.\");\r\n      return;\r\n    }\r\n    if (user?.password.length < 8) {\r\n      alert(\"password length must be more than 8.\");\r\n      return;\r\n    }\r\n    if (priv_key?.length < 8) {\r\n      alert(\"Private key file either not correct or does not uploaded.\");\r\n      return;\r\n    }\r\n\r\n    let encPass = crypto\r\n      .createHash(\"sha256\")\r\n      .update(user?.password)\r\n      .digest(\"hex\");\r\n    try {\r\n      let login = await axios.post(\"api/login\", {\r\n        username: user?.username,\r\n        password: encPass,\r\n      });\r\n\r\n      login = await login.data;\r\n      console.log(login);\r\n\r\n      if (login?.status == 1) {\r\n        console.log(login, \"djfjskdjf\");\r\n\r\n        alert(login?.msg);\r\n        window.localStorage.setItem(\"privateKey\", priv_key);\r\n        window.localStorage.setItem(\"user\", JSON.stringify(login?.data));\r\n        window.location.replace(\"/\");\r\n        return;\r\n      }\r\n\r\n      alert(login?.msg);\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\" form d-flex  justify-content-center \">\r\n        <div className=\" Homepage-Container p-2 w-50 row mt-5 \">\r\n          <div className=\" mr-5 ml-5 justify-content-center col p-2 \">\r\n            <center>\r\n              <h2 className=\"text-light\"> Login</h2>\r\n              <NavLink to=\"/signup\">\r\n                {\" \"}\r\n                <p className=\"text-light smallFont mt-2\">\r\n                  Dont have an account? click here{\" \"}\r\n                </p>\r\n              </NavLink>\r\n            </center>\r\n            <form className=\"col  \" method=\"POST\">\r\n              <input\r\n                className=\"row text-light inputBox inputcss\"\r\n                type=\"text\"\r\n                name=\"username\"\r\n                placeholder=\"username\"\r\n                value={user?.username}\r\n                onChange={handleInput}\r\n                required\r\n              />\r\n              <input\r\n                className=\"row  inputBox text-light inputcss\"\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Password\"\r\n                value={user?.password}\r\n                onChange={handleInput}\r\n                required\r\n              />\r\n\r\n              <label htmlFor=\"keyFile\">Upload privateKey file</label>\r\n              <input\r\n                className=\"row inputBox  text-light inputcss\"\r\n                id=\"keyFile\"\r\n                type=\"file\"\r\n                accept=\"text/plain\"\r\n                placeholder=\"private key\"\r\n                onChange={getKey}\r\n                required\r\n              />\r\n              <button className=\"Logbutton text-light\" onClick={postData}>\r\n                Login\r\n              </button>\r\n            </form>\r\n          </div>\r\n\r\n          <img\r\n            className=\"mt-3 mr-2 border rounded justify-content-right col p-0  imagecss\"\r\n            src={sideimg}\r\n            alt=\"login image\"\r\n            width=\"auto\"\r\n            height=\"300\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;","import CryptoJS from \"crypto-js\";\n\nexport const getBase64 = (file) => {\n  return new Promise((resolve) => {\n    let fileInfo;\n    let baseURL = \"\";\n    // Make new FileReader\n    let reader = new FileReader();\n\n    // Convert the file to base64 text\n    reader.readAsDataURL(file);\n\n    // on reader load somthing...\n    reader.onload = () => {\n      // Make a fileInfo Object\n      //   console.log(\"Called\", reader);\n      baseURL = reader.result;\n      //   console.log(baseURL);\n      resolve(baseURL);\n    };\n    // console.log(fileInfo);\n  });\n};\n\nexport const encImage = async (file, password) => {\n  let imageBase64 = await getBase64(file);\n  var encrypted = CryptoJS.AES.encrypt(imageBase64, password).toString();\n  return encrypted;\n};\n","import axios from \"../axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { encImage } from \"../utils/imageEnc\";\n\nfunction Upload() {\n  const [privateKey, setprivateKey] = useState(\"\");\n  const [user, setuser] = useState({});\n  const [image, setimage] = useState({});\n  useEffect(() => {\n    const pk = window.localStorage.getItem(\"privateKey\");\n    const u = window.localStorage.getItem(\"user\");\n    setprivateKey(pk);\n    setuser(JSON.parse(u));\n  }, []);\n  const uploadImage = async () => {\n    // console.log(image);\n    try {\n      const encryptImage = await encImage(image, privateKey);\n      console.log(encryptImage);\n      let upload = await axios.post(\"uploads/one_media\", {\n        userId: user?._id,\n        mediaData: encryptImage,\n      });\n\n      upload = await upload.data;\n      console.log(upload);\n\n      if (upload?.status == 1) {\n        alert(upload?.msg);\n        window.location.reload();\n        return;\n      }\n\n      alert(upload?.msg);\n    } catch (error) {\n      alert(error);\n    }\n  };\n  return (\n    <div>\n      <div className=\" p-0 bd-highlight btny p-0 bd-highlight border-round bg-primary \">\n        <center><h5 className=\"mt-1 ml-4 p-2\">Upload new file</h5>\n        <h6 className=\"mt-1 ml-4\">\n          (file size must be less then 50kb otherwise network error arise.)\n        </h6>\n        <input\n          type=\"file\"\n          className=\" mt-3 mb-0 btn \"\n          accept=\"image/*\"\n          multiple={false}\n          onChange={(e) => setimage(e.target.files[0])}\n        ></input>\n\n        <button onClick={uploadImage} className=\" w-25 btn btn-success mx-4 my-2 mb-3\">\n          {\" \"}\n          <h4 >Upload</h4> {\" \"}\n        </button></center>\n      </div>\n    </div>\n  );\n}\n\nexport default Upload;\n","import axios from \"../axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Route, Link } from \"react-router-dom\";\r\nimport Upload from \"./Upload\";\r\nimport { appendImages } from \"../utils/imageDec\";\r\n\r\nconst Home = () => {\r\n  document.body.style = \"background: #1DA1F2;\";\r\n  const [privateKey, setprivateKey] = useState(\"\");\r\n  const [user, setuser] = useState({});\r\n  const [images, setimages] = useState([]);\r\n  const [pageNum, setpageNum] = useState(1);\r\n  const numPerPage = 5;\r\n\r\n  const logout = () => {\r\n    window.localStorage.removeItem(\"privateKey\");\r\n    window.localStorage.removeItem(\"user\");\r\n    window.location.assign(\"/login\");\r\n  };\r\n\r\n  const getImages = async (userId, pageNumber, numEachPage) => {\r\n    if (!userId) return;\r\n    try {\r\n      let data = await axios.get(\r\n        `uploads/all_media/${userId}/${pageNumber}/${numEachPage}`\r\n      );\r\n      data = await data.data;\r\n      console.log(data);\r\n      if (data.status == 1) {\r\n        if (data.data.length == 0 && pageNumber != 0) {\r\n          setpageNum(pageNumber - 1);\r\n          alert(\"No more data found.\");\r\n          return;\r\n        }\r\n        setimages(data.data);\r\n      } else alert(data.msg);\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  };\r\n\r\n  //download image\r\n  // \r\n  \r\n  \r\n  useEffect(() => {\r\n    const pk = window.localStorage.getItem(\"privateKey\");\r\n    const u = window.localStorage.getItem(\"user\");\r\n\r\n\r\n    if (!pk || !u) {\r\n      alert(\"Login first.\");\r\n      window.location.assign(\"/login\");\r\n    }\r\n    setprivateKey(pk);\r\n    setuser(JSON.parse(u));\r\n  }, []);\r\n  useEffect(() => {\r\n    getImages(user?._id, pageNum, numPerPage);\r\n  }, [user?._id, pageNum, numPerPage]);\r\n\r\n  useEffect(() => {\r\n    appendImages(images, privateKey);\r\n  }, [images.length]);\r\n\r\n  const imgUrl = window.localStorage.getItem(\"imgUrl\");\r\n  console.log(imgUrl)\r\n  return (\r\n    <>\r\n      <div className=\"\">\r\n        <div className=\"w-50 container d-flex flex-column bd-highlight mb-3 mt-5 shadow-lg p-0 mb-5 bg-light  border-round2 \">\r\n          <div className=\"d-flex justify-content-between p-0 bd-highlight border-round1  bg-success mt-0 mb-0 ml-0 mr-0 px-5 \">\r\n            <h2 className=\" mt-4 mb-4\">Greetings! {user?.username}</h2>\r\n            <div>\r\n              <button onClick={logout} className=\"mt-3 mb-3 btn btn-warning \">\r\n                <h4>Logout</h4>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"p-0 bd-highlight  bg-light  \">\r\n            <center><h4 className=\"card-title mt-0 p-3\">Here are your uploaded photos</h4></center>\r\n            <div className=\" d-flex justify-content-between flex-column  \">  \r\n\r\n            <center>          \r\n            <div \r\n            id=\"allMedia\" \r\n            className=\"w-100\"\r\n            >   \r\n            </div>   \r\n            </center>\r\n            </div>\r\n           \r\n\r\n            <div className=\"d-flex  justify-content-center \">\r\n              {pageNum != 1 ? (\r\n                <>\r\n                  <button\r\n                    className=\" btn btn-danger\"\r\n                    onClick={() => {\r\n                      setpageNum((pre) => pre - 1);\r\n                    }}\r\n                  >\r\n                    Previous\r\n                  </button>\r\n                </>\r\n              ) : null}\r\n\r\n              {images.length == 5 ? (\r\n                <>\r\n                  <button\r\n                    className=\"btn btn-danger \"\r\n                    style={{ marginLeft: \"20px\" }}\r\n                    onClick={() => {\r\n                      setpageNum((pre) => pre + 1);\r\n                    }}\r\n                  >\r\n                    Next\r\n                  </button>\r\n                </>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n          <Upload />\r\n        </div>\r\n        \r\n      </div>\r\n      \r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import CryptoJS from \"crypto-js\";\r\n\r\nexport const appendImages = (images, key) => {\r\n  let allMedia = document.getElementById(\"allMedia\");\r\n  allMedia.innerHTML = \"\";\r\n  let deviceWidth = window.innerWidth;\r\n  try {\r\n    for (let i in images) {\r\n      let div = document.createElement(\"div\");\r\n\r\n      var bytes = CryptoJS.AES.decrypt(images[i].mediaData, key);\r\n      var imageBase64 = bytes.toString(CryptoJS.enc.Utf8);\r\n      console.log(imageBase64);\r\n      let p = document.createElement(\"p\");\r\n      // p.innerText = `${parseInt(i) + 1})\\n`;\r\n      var image = new Image();\r\n      image.src = imageBase64;\r\n      image.classList.add(\"img-fluid\");\r\n      image.style.width = deviceWidth < 768 ? \"50%\" : \"50%\";\r\n      // image.style.marginLeft = deviceWidth < 768 ? \"0\" : \"15%\";\r\n\r\n      let a = document.createElement(\"a\");\r\n      a.href = imageBase64;\r\n      a.download = \"image.png\";\r\n      a.classList.add(\"btn\");\r\n      a.classList.add(\"btn-success\");\r\n      a.classList.add(\"text-center\");\r\n      a.classList.add(\"my-3\");\r\n      a.text = \"Download\";\r\n      let br = document.createElement(\"br\");\r\n      let hr = document.createElement(\"hr\");\r\n\r\n      // div.appendChild(p);\r\n      div.appendChild(image);\r\n      div.appendChild(br);\r\n      div.appendChild(a);\r\n      div.appendChild(hr);\r\n      div.style.margin = \"10px\";\r\n\r\n      allMedia.appendChild(div);\r\n    }\r\n  } catch (error) {\r\n    alert(error + \" Meybe you have uploaded wrong key.\");\r\n    window.localStorage.removeItem(\"privateKey\");\r\n    window.localStorage.removeItem(\"user\");\r\n    window.location.assign(\"/login\");\r\n  }\r\n};","import { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport Signup from \"./Signup\";\r\nimport Login from \"./Login\";\r\nimport Home from \"./Home/Home\";\r\nimport \"./App.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nfunction App() {\r\n  document.body.style = \"background: #1DA1F2;\";\r\n  return (\r\n    <>\r\n      <BrowserRouter>\r\n        <Switch>\r\n        <Route exact path=\"/\" component={Home} />\r\n          <Route exact path=\"/signup\" component={Signup} />\r\n          <Route exact path=\"/login\" component={Login} />\r\n          <Route component={Login} />\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    {/* <BrowserRouter> */}\n    <App />\n    {/* </BrowserRouter> */}\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}